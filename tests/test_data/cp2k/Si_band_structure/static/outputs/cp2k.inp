
! Parameters needed to calculate energy and forces
! and describe the system you want to analyze.
&FORCE_EVAL
	METHOD QS
	STRESS_TENSOR ANALYTICAL

	! A subsystem: coordinates, topology, molecules
	! and cell
	&SUBSYS

		! Lattice parameters and optional settings for
		! creating a the CELL
		&CELL
			A 0.0 2.734364 2.734364
			B 2.734364 0.0 2.734364
			C 2.734364 2.734364 0.0
		&END CELL

		! The description of this kind of atom including
		! basis sets, element, etc.
		&KIND Si_1
			ELEMENT Si
			MAGNETIZATION 0.0
			BASIS_SET DZVP-MOLOPT-SR-GTH-q4
			POTENTIAL GTH-PBE-q4
			GHOST False
		&END KIND

		! The coordinates for simple systems (like small
		! QM cells) are specified here by default using
		! explicit XYZ coordinates. More complex systems
		! should be given via an external coordinate
		! file in the SUBSYS%TOPOLOGY section.
		&COORD
			Si_1 1.367182 1.367182 1.367182
			Si_1 0.0 0.0 0.0
		&END COORD
	&END SUBSYS
	&PRINT
		&FORCES
		&END FORCES
		&STRESS_TENSOR
		&END STRESS_TENSOR
	&END PRINT

	! Parameter needed by dft programs
	&DFT
		BASIS_SET_FILE_NAME BASIS_MOLOPT
		BASIS_SET_FILE_NAME BASIS_MOLOPT_UCL
		POTENTIAL_FILE_NAME GTH_POTENTIALS
		UKS True ! Whether to run unrestricted Kohn Sham (i.e. spin polarized)
		MULTIPLICITY 0
		CHARGE 0

		! Parameters needed to set up the Quickstep
		! framework
		&QS
			METHOD GPW
			EPS_DEFAULT 1e-12 ! Base precision level (in Ha)
			EXTRAPOLATION ASPC ! WFN extrapolation between steps
		&END QS

		! Parameters needed to perform an SCF run.
		&SCF
			MAX_SCF 1 ! Max number of steps for an inner SCF loop
			EPS_SCF 1 ! Convergence threshold for SCF
			added_mos -1 -1
			SCF_GUESS RESTART ! How to initialize the density matrix
			MAX_ITER_LUMO 400 ! Iterations for solving for unoccupied levels when running OT
		&END SCF

		! Multigrid information. Multigrid allows for
		! sharp gaussians and diffuse gaussians to be
		! treated on different grids, where the spacing
		! of FFT integration points can be tailored to
		! the degree of sharpness/diffusiveness
		&MGRID
			CUTOFF 100.0 ! Cutoff in [Ry] for finest level of the MG.
			REL_CUTOFF 50 ! Controls which gaussians are mapped to which level of the MG
			NGRIDS 5 ! Number of grid levels in the MG
			PROGRESSION_FACTOR 3
		&END MGRID

		&XC
			&XC_FUNCTIONAL
				&PBE
				&END PBE
			&END XC_FUNCTIONAL
		&END XC
		&PRINT

			! Controls printing of the overall density of
			! states
			&DOS
				NDIGITS 8
			&END DOS

			! Controls printing of the projected density of
			! states
			&PDOS
				NLUMO -1
				COMPONENTS

				! Controls printing of the projected density
				! of states decomposed by atom type
				&LDOS
					COMPONENTS
					LIST 1
				&END LDOS

				! Controls printing of the projected density
				! of states decomposed by atom type
				&LDOS
					COMPONENTS
					LIST 2
				&END LDOS
			&END PDOS

			! Controls the printing of a cube file with
			! eletrostatic potential generated by the total
			! density (electrons+ions). It is valid only
			! for QS with GPW formalism. Note that by
			! convention the potential has opposite sign
			! than the expected physical one.
			&MO_CUBES
				WRITE_CUBE False
				NHOMO -1
				NLUMO -1
			&END MO_CUBES

			! Controls the printing of a cube file with
			! eletrostatic potential generated by the total
			! density (electrons+ions). It is valid only
			! for QS with GPW formalism. Note that by
			! convention the potential has opposite sign
			! than the expected physical one.
			&V_HARTREE_CUBE
				STRIDE 2 2 2
			&END V_HARTREE_CUBE

			! Controls the printing of cube files with the
			! electronic density and, for LSD calculations,
			! the spin density.
			&E_DENSITY_CUBE
				STRIDE 2 2 2
			&END E_DENSITY_CUBE

			! Controls printing of band structure
			! calculation
			&BAND_STRUCTURE
				FILE_NAME BAND.bs
				ADDED_MOS 100

				! Specifies a single k-point line for band
				! structure calculations
				&KPOINT_SET
					NPOINTS 20
					UNITS B_VECTOR
					SPECIAL_POINT Gamma 0.0 0.0 0.0
					SPECIAL_POINT X 0.5 0.0 0.5
				&END KPOINT_SET


				! Specifies a single k-point line for band
				! structure calculations
				&KPOINT_SET
					NPOINTS 20
					UNITS B_VECTOR
					SPECIAL_POINT X 0.5 0.0 0.5
					SPECIAL_POINT W 0.5 0.25 0.75
				&END KPOINT_SET


				! Specifies a single k-point line for band
				! structure calculations
				&KPOINT_SET
					NPOINTS 20
					UNITS B_VECTOR
					SPECIAL_POINT W 0.5 0.25 0.75
					SPECIAL_POINT K 0.375 0.375 0.75
				&END KPOINT_SET


				! Specifies a single k-point line for band
				! structure calculations
				&KPOINT_SET
					NPOINTS 20
					UNITS B_VECTOR
					SPECIAL_POINT K 0.375 0.375 0.75
					SPECIAL_POINT Gamma 0.0 0.0 0.0
				&END KPOINT_SET


				! Specifies a single k-point line for band
				! structure calculations
				&KPOINT_SET
					NPOINTS 20
					UNITS B_VECTOR
					SPECIAL_POINT Gamma 0.0 0.0 0.0
					SPECIAL_POINT L 0.5 0.5 0.5
				&END KPOINT_SET


				! Specifies a single k-point line for band
				! structure calculations
				&KPOINT_SET
					NPOINTS 20
					UNITS B_VECTOR
					SPECIAL_POINT L 0.5 0.5 0.5
					SPECIAL_POINT U 0.625 0.25 0.625
				&END KPOINT_SET


				! Specifies a single k-point line for band
				! structure calculations
				&KPOINT_SET
					NPOINTS 20
					UNITS B_VECTOR
					SPECIAL_POINT U 0.625 0.25 0.625
					SPECIAL_POINT W 0.5 0.25 0.75
				&END KPOINT_SET


				! Specifies a single k-point line for band
				! structure calculations
				&KPOINT_SET
					NPOINTS 20
					UNITS B_VECTOR
					SPECIAL_POINT W 0.5 0.25 0.75
					SPECIAL_POINT L 0.5 0.5 0.5
				&END KPOINT_SET


				! Specifies a single k-point line for band
				! structure calculations
				&KPOINT_SET
					NPOINTS 20
					UNITS B_VECTOR
					SPECIAL_POINT L 0.5 0.5 0.5
					SPECIAL_POINT K 0.375 0.375 0.75
				&END KPOINT_SET


				! Specifies a single k-point line for band
				! structure calculations
				&KPOINT_SET
					NPOINTS 20
					UNITS B_VECTOR
					SPECIAL_POINT U 0.625 0.25 0.625
					SPECIAL_POINT X 0.5 0.0 0.5
				&END KPOINT_SET
			&END BAND_STRUCTURE
		&END PRINT
	&END DFT
&END FORCE_EVAL

! Section with general information regarding which
! kind of simulation to perform an general
! settings
&GLOBAL
	PROJECT_NAME Static
	RUN_TYPE ENERGY_FORCE
	EXTENDED_FFT_LENGTHS True
&END GLOBAL
